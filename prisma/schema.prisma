datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model user {
  id          Int     @default(autoincrement()) @id
  email       String  @unique
  nickname    String
  image_url    String
  description String
  created_at   DateTime @default(now())
  updated_at   DateTime @default(now())
  posts       post[]
}

model post {
  id        Int      @default(autoincrement()) @id
  user      user     @relation(fields:[user_id], references: [id])
  user_id    Int
  title     String
  content   String
  link      String
  created_at DateTime @default(now())
  updated_at DateTime @default(now())
  post_tech_stacks post_tech_stack[]
}

model tech_stack {
  id        Int      @default(autoincrement()) @id
  name      String
  created_at DateTime @default(now())
  updated_at DateTime @default(now())
  post_tech_stacks post_tech_stack[]
}

model post_tech_stack {
  id      Int      @default(autoincrement()) @id
  post    post     @relation(fields:[post_id], references: id)
  post_id  Int
  tech_stack tech_stack @relation(fields:[tech_stack_id], references:id)
  tech_stack_id Int
}
